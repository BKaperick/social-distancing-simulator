<html>
<head>
  <meta charset="UTF-8">
  <script src="https://cdn.jsdelivr.net/npm/p5@1.0.0/lib/p5.js"></script>
  <script language="javascript" type="text/javascript" src="BouncyBallsEpidemics.js"></script>
  <link rel="stylesheet" href="style.css">
</head>

<body>
  <div class="container">
  <h1>Social distancing simulator</h1>

  <table class='parameters'>
  <tr>
  <td>Social distance</td>
  <td><input id="social-distance-slider" class="slider" type="range" min="0" max="100" value="10"
     oninput="document.getElementById('social-distance-value').innerHTML=this.value;"
     onchange="document.getElementById('social-distance-value').innerHTML=this.value;"/></td>
  <td><span id="social-distance-value">10</span>%</td>
  <td class="restart-button" rowspan="3"><input id='restart-button' type='submit' value='Restart'/></td>
  </tr>
  <tr>
  <td>Mortality</td>
  <td><input id="mortality-slider" class="slider" type="range" min="0" max="100" value="3"
       oninput="document.getElementById('mortality-value').innerHTML=this.value;"
       onchange="document.getElementById('mortality-value').innerHTML=this.value;"/></td>
  <td><span id="mortality-value">3</span>%</td>
  </tr>
  <tr>
  <td>Sick time</td>
  <td><input id="sick-time-slider" class="slider" type="range" min="0" max="10" step="0.1" value="2"
     oninput="document.getElementById('sick-time-value').innerHTML=Number(this.value).toFixed(1);"
     onchange="document.getElementById('sick-time-value').innerHTML=Number(this.value).toFixed(1);"/></td>
  <td><span id="sick-time-value">2.0</span>s</td>
  </tr>
  </table>

  <div id="ball-simulation"></div>

  <div id="ball-graph"></div>

  <table class="statistics"><tr>
    <td><span id="healthy-stat"></span>% healthy ○</td>
    <td><span id="immune-stat"></span>% immune <span style="color: #FFFF40">●</span></td>
    <td><span id="sick-stat"></span>% sick <span style="color: #FF0000">●</span></td>
    <td><span id="dead-stat"></span>% dead <span style="color: #808080">●</span></td>
    <td><span id="current-time"></span>s</td>
  </tr></table>

  <h2>About the simulation</h2>

  <p>
  Each ball represents a person which can be healthy (white), immune (yellow), sick (red), or dead (gray).
  A healthy ball becomes sick when it collides with a sick one. If a sick ball survives the infection, it
  becomes immune and cannot be infected again.
  </p>

  <p>
  You may control:
  <ul>
  <li><b>social distancing</b> controls the speed of the balls</li>
  <li><b>mortality</b> is the probability that a sick ball dies</li>
  <li><b>sick time</b> controls the length of the time whwn a ball is sick</li>
  </ul>
  </p>

  <p>
    The author of the simulator is <a href="http://www.andrej.com/">Andrej Bauer</a>.
    The inspiration for it came from an <a href="https://www.washingtonpost.com/graphics/2020/world/corona-simulator/">article</a> by Harry Stevens in Washington Post.
    The source code is freely available on <a href="https://github.com/andrejbauer/ball-epidemics">GitHub</a>.
  </p>

  <p><b>Disclaimer:</b>
    The purpose of the simulator is purely educational. It demonstrates the complexity of social distancing and epidemics, but it should not be used to draw any conclusions about real epidemics.
  </p>

  </div>
</body>
</html>
